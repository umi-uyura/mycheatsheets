#
# psql - PostgreSQL interactive terminal
#

# Connect
psql -h <host> -U <user>               # DBMS
psql -h <host> -U <user> <database>    # database

# Execute sql file
psql -f <sql file path> -h <host> -U <user> -d <database>

# Create database
createdb -h <host> -U <user> <database> [description]


#
# meta command
#

# Connect database
\c <database>

# Quit connection
\q

# Change encoding
\encoding <encoding>

# Display list / detail
# example:
# - \d+ ... add detail columns
# - \dS ... include system objects
# - \dS+ ... include system objects and add detail columns
# - \d <pattern> ... display what matches the pattern

\l                # databases
\d                # tables, views, sequences
\dt               # tables
\dv               # views
\ds               # sequences
\dp               # access rights for tables, views, sequences
\df               # functions
\df[antw]         #   a ... aggregate
                  #   n ... normal(?)
                  #   t ... trigger
                  #   w ... window
\dn               # schemas
\di               # indexes
\du               # users and roles

# Display definition
\sv               # view
\sf               # function

# CSV export use copy command
\copy (<table or select> ) to '/tmp/output.csv' with csv delimiter ',';

# CSV import use copy command
\copy (<table>) from '/tmp/input.csv' with csv;

# Execute sql file
\i <sql file path>

# Output query result to file
1. \o <filename>   # switching output to file
2. <query>         # output query result to file
3. \o              # switching output to console
